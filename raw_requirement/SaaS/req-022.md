# Requirement req-022 (SaaS)

SA-007: Per-Resource Access Logs With Compliance Role Export
Title:
Add Per-Resource Access Logs, Exportable by Compliance and Security Roles

Background:
Certain customers in regulated industries need granular logs showing who accessed each file, record, or dashboard. We need to support detailed export and reporting.

Requirements:

Logging:

For every access to a key resource, log user ID, timestamp, IP, access type (read, edit, export), and context (via API, UI, etc.).

Store logs for at least 1 year (configurable).

Export Controls:

Allow users with “Compliance” or “Security” roles to export logs for selected resources in CSV or JSON.

Apply filters by date, user, or resource type.

Edge Cases:

Mask sensitive data (e.g., user emails) on export if required by company or jurisdiction policy.

If a user’s role changes after accessing a resource, keep the original access context in the log.

Notifications:

Notify compliance team leads of large-volume exports or unusual access patterns.

Docs & Support:

Update admin docs and compliance playbooks with export and retention guidelines.

Dependencies & Constraints:

Log exports must be rate-limited to prevent abuse.

Must meet data protection and privacy requirements per client’s geography.