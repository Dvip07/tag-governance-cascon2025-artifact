# Requirement req-017 (SaaS)

SA-002: Prorated Plan Upgrades With Billing History Preservation
Title:
Implement Prorated Upgrades for Subscription Plans While Retaining Accurate Billing History

Background:
Customers expect to upgrade their plans at any time and only pay for what they use. We need to support mid-cycle plan upgrades and handle the resulting billing and reporting cleanly.

Requirements:

Upgrade Logic:

When a user upgrades mid-cycle (e.g., from Basic to Pro), calculate the unused value of their current plan and apply it as a credit toward the new plan.

The upgrade takes effect immediately, but the billing cycle aligns with the original renewal date.

Billing & History:

Record all upgrade events, credits, and charges in the customer’s billing history.

Ensure invoices show a clear breakdown (old plan refund/credit, new plan charge, taxes).

Edge Cases:

Handle upgrades involving both monthly and annual plans, including overlapping dates.

If a customer downgrades during the same cycle, flag for manual review (to prevent abuse).

Notifications:

Email users a summary of the upgrade, showing calculations, credits, and new renewal date.

Notify admins of any unusual upgrade/downgrade patterns.

Support & Docs:

Update support scripts and customer FAQs to cover common upgrade scenarios and “what happens if…” questions.

Dependencies & Constraints:

May require updates to payment processor integrations.

Must support local taxes/VAT in all calculations.