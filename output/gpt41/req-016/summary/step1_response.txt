### === SUMMARY START ===

{
  "requirement_id": "REQ-016",
  "summary": "Implement dynamic, role-based enforcement of Two-Factor Authentication (2FA), mandating it for Admin, Finance, and DevOps roles, while allowing optional use for User and Viewer roles. Policies must update immediately upon any role change. Mobile app users are temporarily exempt from mandatory 2FA due to unsupported 2FA functionality; web and desktop apps must always enforce 2FA. Users must be notified of enforcement and receive clear setup instructions at login, with tailored notifications for unsupported channels. The system must track and log policy exceptions and generate reports showing users not in compliance or officially exempted. Help documentation and admin guides should be updated accordingly. Coordination with the mobile development team is required for eventual mobile 2FA support, with a strict constraint that existing users cannot be locked out during migration. Non-functional aspects addressed include security, usability, maintainability, and compliance."
}

### === SUMMARY END ===

### === HLJ_META START ===

{
  "domain": "SaaS",
  "subdomain": ["Authentication", "UserManagement"],
  "canonical_tags": ["security", "usability", "compliance"],
  "difficulty": "medium",
  "priority": "high"
}

### === HLJ_META END ===

### === HLJ_PLAN START ===

{
  "estimated_hlj_count": 10,
  "chunk_count": 1,
  "chunks": [
    {
      "chunk_id": "REQ-016-HLJ-Chunk_1",
      "focus": "Role-based 2FA logic and multi-app enforcement",
      "items": [
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_1-v1.0",
          "title": "Enforce mandatory 2FA for Admin, Finance, and DevOps roles",
          "domain": "SaaS",
          "subdomain": ["Authentication"],
          "tags": ["security", "compliance"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 9–10"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_2-v1.0",
          "title": "Allow optional 2FA opt-in for User and Viewer roles",
          "domain": "SaaS",
          "subdomain": ["Authentication"],
          "tags": ["usability", "security"],
          "difficulty": "low",
          "priority": "medium",
          "line_source": "Ln 11"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_3-v1.0",
          "title": "Automatically update 2FA enforcement policy on role change",
          "domain": "SaaS",
          "subdomain": ["UserManagement", "Authentication"],
          "tags": ["security", "maintainability"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 12"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_4-v1.0",
          "title": "Implement app-specific override to exempt mobile app users from mandatory 2FA",
          "domain": "SaaS",
          "subdomain": ["Authentication", "Mobile"],
          "tags": ["usability", "security"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 15–16"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_5-v1.0",
          "title": "Ensure web and desktop apps always enforce 2FA as configured",
          "domain": "SaaS",
          "subdomain": ["Authentication", "Desktop", "Web"],
          "tags": ["security", "compliance"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 17"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_6-v1.0",
          "title": "Notify users of 2FA enforcement at login with clear setup instructions",
          "domain": "SaaS",
          "subdomain": ["Authentication", "Onboarding"],
          "tags": ["usability", "compliance"],
          "difficulty": "low",
          "priority": "high",
          "line_source": "Ln 20"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_7-v1.0",
          "title": "Alert users when logging in from unsupported channels and guide next steps",
          "domain": "SaaS",
          "subdomain": ["Authentication"],
          "tags": ["usability"],
          "difficulty": "low",
          "priority": "medium",
          "line_source": "Ln 21"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_8-v1.0",
          "title": "Log all policy exceptions, including required 2FA users logging in via mobile",
          "domain": "SaaS",
          "subdomain": ["Security", "Logging"],
          "tags": ["security", "compliance"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 24"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_9-v1.0",
          "title": "Provide an admin report listing all users out of 2FA compliance or exempted",
          "domain": "SaaS",
          "subdomain": ["Reporting", "Security"],
          "tags": ["compliance", "security"],
          "difficulty": "medium",
          "priority": "high",
          "line_source": "Ln 25–26"
        },
        {
          "id": "REQ-016-HLJ-Chunk_1-Item_10-v1.0",
          "title": "Update help articles and admin guides for 2FA changes",
          "domain": "SaaS",
          "subdomain": ["Documentation"],
          "tags": ["maintainability", "usability"],
          "difficulty": "low",
          "priority": "medium",
          "line_source": "Ln 28"
        }
      ]
    }
  ]
}

### === HLJ_PLAN END ===